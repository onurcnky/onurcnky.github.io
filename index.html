<!DOCTYPE html>
<html>
<head>
  <title>My SCORM Player</title>
  <script src="SCORM_API_wrapper.js"></script>
</head>
<body>
  <button id="play-scorm">Play SCORM</button>

  <script>
    var scormWindow;
    var scormPlayerUrl = "scorm2004.html?imsmanifest=imsmanifest.xml";

    function launchScormPlayer() {
      if (scormWindow && !scormWindow.closed) {
        scormWindow.close();
      }
      scormWindow = window.open(scormPlayerUrl);
    }

    document.getElementById("play-scorm").addEventListener("click", launchScormPlayer);

    // SCORM API code
    var scorm = pipwerks.SCORM;
    var lmsConnected = false;

    function connectToLMS() {
      var result = scorm.init();

      if (result) {
        lmsConnected = true;
        console.log("Connected to LMS");
      } else {
        console.log("Failed to connect to LMS");
      }
    }

    window.addEventListener("load", connectToLMS);
  </script>
</body>
</html>

